$em: 16px;
$accent-type: "Blanch", "Futura", sans-serif;
$headline-type: "bree", "Futura", sans-serif;
$body-type: "merriweather", "Georgia", serif;

@import "colors";
@import "general";
@import "nav";

@import "fonts/blanch";


html, body {
	width: 100%;
	margin: 0;
	padding: 0;
	font-size: $em;
	font-family: sans-serif;
	line-height: 1.5*$em;
    color: $black;
    background: $black;
    position: relative;
    z-index: -10;
}

#center {
    width: 100%;
    max-width: 1920px;
    margin: 0 auto;
    background: $dust5;
    position: relative;
    z-index: -9;
}

header {
    font-size: $em;
    .hero-img {
        picture {
            width: 100%;
            max-width: 1920px;;
            position: fixed;
            top: 0;
            img {
                margin: 0 auto;
                display: block;
                margin-top: -15%;
                @media screen and (max-width: 1200px) {
                    width: 120%;
                    margin: -15% 0 0 -10%;
                }
                @media screen and (max-width: 920px) {
                    width: 140%;
                    margin: -15% 0 0 -20%;
                }
                @media screen and (max-width: 820px) {
                    width: 160%;
                    margin: -10% 0 0 -30%;
                }
                @media screen and (max-width: 580px) {
                    width: 160%;
                    margin: 0 0 0 -30%;
                }
                @media screen and (max-width: 520px) {
                    width: 180%;
                    margin: 0 0 0 -40%;
                }
                @media screen and (max-width: 380px) {
                    width: 230%;
                    margin: -5% 0 0 -65%;
                }
            }
        }
    }
}

main {
    margin-top: 30*$em;
    width: 100%;
    box-shadow: 0 -2px 2px rgba($dark-gray,0.5);
    position: relative;
    background: $dust5;
    z-index: 1;
    .container{
        max-width: 67*$em;
        margin: 0 auto;
    }
    @media screen and (max-width: 700px) {
        margin-top: 25*$em;
    }
    @media screen and (max-width: 480px) {
        margin-top: 22*$em;
    } 
}

article {
	width: 100%;
    font-size: $em;
	max-width: 44*$em;
    float: left;
    background-color: $white;
    padding: 1*$em 5*$em 3.5*$em 5*$em;
    box-sizing: border-box;
    margin: 0;
    box-shadow: 0 0 0.1px rgba($dust,0.1);
	h1 {
        width: 67*$em;
        height: 10*$em;
        margin: -12*$em 0 3*$em -5*$em;
        padding: 0 2*$em;
        box-sizing: border-box;
        font-family: $headline-type;
        font-size: 5*$em;
        font-weight: 700;
        letter-spacing: -0.015em;
        line-height: 5*$em;
        color: $white;
        text-shadow: 2px 2px 2px rgba($dark-gray,0.5);
        @media screen and (max-width: 1040px) { 
            font-size: 4*$em;
            padding: 0 0.5*$em;
            margin: -12*$em -15% 3*$em -15%;
            width: 130%;
            max-width: 44*$em;
        }
        @media screen and (max-width: 760px) {
            margin-top: -10*$em;
            margin-bottom: 1*$em;
            font-size: 3*$em;
            letter-spacing: -0.01em;
            line-height: 3.6*$em;
            padding: 0 10%;
        }
        @media screen and (max-width: 590px) {
            font-size: 2.5*$em;
            line-height: 3*$em;
            margin: -10.5*$em -5% 1.5*$em -5%;
            width: 110%;
            padding: 0 5%;
        }
	}
	p {
        font-family: $body-type;
        font-size: 1*$em;
        font-weight: normal;
		text-align: justify;
        line-height: 1.5*$em;
        margin: 1.5*$em 0;
    }
    .text>p:first-child:first-letter {
        float: left;
        color: $green;
        font-family: $accent-type;
        font-weight: normal;
        text-transform: capitalize;
        font-size: 11*$em;
        line-height: 3*$em;
        padding: 1.25*$em 0.05*$em 1.5*$em 0;
    }
    a {
        color: $green;
        cursor: alias;
        @include underline($white);
    }
    ul, ol, li {
        font-family: $body-type;
        line-height: 1.5*$em;
        text-align: left;
        margin: 0;
    }
    ul, ol {
        padding-left: 1.5*$em;
    }
    ul {
        list-style-type: none;
        li {
            position: relative;
            &::before{
                content: "•";
                display: block;
                position: absolute;
                left: -1.2*$em;
                top: 0;
                font-size: 1.6*$em;
            }
        }
    }
    h2, h3, h4 {
        font-family: $headline-type;
        letter-spacing: -0.02em;
        font-size: 1.5*$em;
        font-weight: 700;
        line-height: 1.5*$em;
        margin: 1.5*$em 0;
	}
	figure {
        position: relative;
        margin: 0;
        overflow: hidden;
        img {
		    width: 100%;
            display: block;
            position: relative; 
        }
        figcaption {
            position: absolute;
            bottom:0;
            box-sizing: border-box;
            width: 100%;
            height: 3.3*$em;
            padding: 0.5em 1em;
            font-family: $headline-type;
            font-weight: 300;
            font-size: 0.9*$em;
            line-height: 1.3*$em;
            color: $white;
            background-color: rgba($dark-gray,0.7);
            opacity: 0;
            transform: translateY(100%);
            transition: transform 0.4s, opacity 0.1s 0.3s;
        }
        &:hover, &:focus {
            figcaption {
                opacity: 1;
                transform: translateY(0);
                transition: transform 0.4s, opacity 0.1s;
            }
        }
	}
    blockquote {
        position: relative;
        border-left: solid 0.15*$em $black;
        background: rgba($black, 0.025);
        margin: 0 0.5*$em;
        padding: 0.3*$em 4*$em 0.5*$em 1.5*$em;
        font-family: $body-type;
        font-style: italic;
        cite {
            display: block;
            position: absolute;
            bottom: 0*$em;
            right: 0.6*$em;
            text-align: right;
            margin-top: 0.5*$em;
            font-family: $headline-type;
            font-style: normal;
            font-size: 1*$em;
            font-weight: 700;
            letter-spacing: 0.01em;
            text-transform: uppercase;
            &::before {
                content: "— ";
            }
        }
        &::before {
            content: "\201C";
            display: block;
            position: absolute;
            top: 1.8*$em;
            left: -1*$em;
            font-family: $headline-type;
            font-style: normal;
            font-size: 7*$em;
        }
    }
    @media screen and (max-width: 1040px) {
        float: none;
        margin: 0 auto;
        padding: 1*$em 10% 3.5*$em 10%;
    }
    @media screen and (max-width: 520px) {
        padding: 1*$em 5% 3.5*$em 5%;
        p, ol, ul, li {
            font-size: 0.9*$em;
        }
        ul li::before {
            font-size: 1.3*$em;
        }
        h2 {
            font-size: 1.3*$em;
        }
        figure {
            width: 112%;
            margin-left: -6%;
            figcaption {
                font-size: 0.75*$em; 
            }
        }
        blockquote {
            padding-right: 2*$em;
        }
    }
}

aside {
    font-size: $em;
    width: 100%;
    max-width: 20*$em;
    float: right;
    box-sizing: border-box;
    section {
        padding: 0.2*$em 1*$em 0.2*$em 1*$em;
        margin: 3*$em 0;
        background-color: $white;
        box-shadow: 0 0 1px rgba($dust,0.1);
    }
    @media screen and (max-width: 1040px) {
        max-width: 44*$em;
        float: none;
        margin: 0 auto;
        section {
            padding: 2*$em 10%;
        }
    }
    @media screen and (max-width: 520px) {
        section {
            padding: 0 5%;
        }
    }
    .subscribe { 
        background: none;
        box-shadow: none; 
        margin: 2*$em 0 -2*$em 0;
        padding: 0;
        font-family: $headline-type;
        font-weight: 700;
        text-align: center;
        color: $white;
        text-shadow: 1px 1px 1px rgba($dust,0.1);
        .subscribe-link {
            position: relative;
            display: block;
            float: left;
            width: 25%;
            box-sizing: border-box;
            margin: 0;
            svg, .icon {
                width: 5*$em;
                fill: $white;
                position: absolute;
                left: 0; right: 0;
                margin: auto;
                height: 3*$em;
                transition: fill 0.4s, color 0.3s;
                filter: drop-shadow(0 0 1px rgba($dust,0.1));
                transform: translateZ(0);
            }
            a {
                position: absolute;
                top: 0; left: 0;
                width: 100%; height: 100%;
            }
            &:hover, &:focus {
                text-decoration: none;
                h4, .icon, .icon:hover {
                    fill: $green2;
                    color: $green2;
                    transition: fill 0.5s, color 0.4s;
                }
            }
            h4 {
                margin-top: 3.7*$em;
                font-size: 1*$em;
                line-height: 1.1*$em;
                text-transform: uppercase;
                transition: all 0.5s;
            }
        }
        @media screen and (max-width: 1040px) {
            padding: 0 10%;
        }
        @media screen and (max-width: 520px) {
            padding: 0 5%;
        }
    }
    .author {
        h3 {
            font-family: $headline-type;
            font-weight: 700;
            font-size: 1*$em;
            line-height: 1*$em;
            margin: 1.2*$em 0 -0.3*$em 0;
        }
        p {
            font-family: $headline-type;
            font-weight: 300;
            font-size: 0.8*$em;
            line-height: 1*$em;
            margin-bottom: 1*$em;
            text-align: left;
        }
        figure {
            width: 5.2em;
            height: 7.8em;
            float: left;
            overflow: hidden;
            margin: 1*$em 0.5*$em 0 0;
            img {
                width: 150%;
                margin-left: -30%;
            }
        }
        @media screen and (max-width: 1040px) {
            h3 {
                font-family: $headline-type;
                letter-spacing: -0.02em;
                font-size: 1.5*$em;
                font-weight: 700;
            }
            p {
                font-family: $body-type;
                font-size: 1*$em;
                font-weight: normal;
                line-height: 1.5*$em;
            }
            figure {
                width: 7*$em;
                height: 10*$em;
                margin-right: 1*$em;
            }
        }
        @media screen and (max-width: 520px) {
            h3 {
                font-size: 1.3*$em;
            }
            p {
                font-size: 0.9*$em;
            }
            figure {
                width: 5.2*$em;
                height: 7.8*$em;
                margin: 1*$em 0.5*$em 0 0;
            }
        }
    }
    .articles {
        .article-box {
            display: block;
            height: 10*$em;
            overflow: hidden;
            margin: 1*$em 0;
            position: relative;
            h3 {
                display: inline-block;
                position: absolute;
                top: 0; right: 0;
                width: 100%; height: 100%;
                box-sizing: border-box;
                margin: 0;
                padding: 2.5*$em 2*$em;
                z-index: 3;
                color: $white;
                font-family: $headline-type;
                font-weight: 500;
                font-size: 1.8*$em;
                line-height: 2*$em;
                text-align: right;
                transition: all 0.3s;
                @media screen and (max-width: 760px) {
                    font-size: 1.6*$em;
                }
            }
            img {
                width: auto;
                height: auto;
                min-width: 100%;
                min-height: 100%;
                max-width: 16*$em;
            }
            &::after {
                content: "read article";
                padding: 8*$em 2*$em 0 1*$em;
                color: $green;
                background: rgba($white,0.7);
                position: absolute;
                top: 0; left: 0;
                width: 100%; height: 100%;
                opacity: 0;
                z-index: 2;
                font-family: $headline-type;
                transform: translate3d(0,20%,0);
                transition: transform 0.3s, opacity 0.1s 0.1s;
            }
            &:hover {
                h3 {
                    color: $green;
                    padding-top: 1*$em;
                }
                &::after {
                    opacity: 1;
                    transform: translate3d(0,0,0);
                    transition: transform 0.3s, opacity 0.1s;
                }
            }
        }
        @media screen and (max-width: 1040px) {
            padding-bottom: 3*$em;
            .article-box {
                float: left;
                width: 48%;
                margin: 3% 0 0 0;
                &:nth-child(even) {
                    margin-right: 4%;
                }
                h3 {
                    padding: 2.5*$em 1*$em;
                }
            }
        }
        @media screen and (max-width: 520px) {
            .article-box {
                width: 100%;
                margin-top: 1*$em;
                &:nth-child(even) {
                    margin-right: 0;
                }
                h3 {
                    font-size: 1.8*$em;
                }
            }
        }
    }
}

@-moz-document url-prefix() {
    article p:first-child:first-letter {
        padding: 0.25*$em 0.05*$em 0 0;
    }
}
